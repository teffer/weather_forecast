# Приложение для просмотра прогноза погоды
## Описание
Данное приложение позволяет просматривать прогноз погоды по городам мира. Оно создано на основе фреймворка Django.

Для получения данных о погоде используется API open-meteo (https://api.open-meteo.com/v1/forecast) с параметрами:

+ latitude - широта города
+ longitude - долгота города
+ hourly - почасовой прогноз погоды на ближайшие семь дней, включающий:
  * temperature_2m - температура на высоте 2 метра над землей
  * weather_code - код погодных условий, международный стандарт кодового обозначения погодных условий (таблица расшифровки кодов доступна на сайте: https://open-meteo.com/en/docs).

Для получения координат (широты и долготы) города используется API Nominatim с помощью библиотеки geopy. Преимущество этого API - поддержка русского языка.

## Функционал
+ Сохранение куки о последнем искомом городе в браузере и автоматическая загрузка прогноза для этого города при повторном посещении сайта.

+ Сохранение истории поисков городов и количества запросов в базе данных SQLite3.

+ Реализовано API для получения данных о поисках городов:
 + site_address_example.ru/api/get_search_counts/ - получение информации обо всех городах и количестве запросов на каждый из них. Пример ответа:

 json

    [
        {
            "city": "Москва",
            "search_count": 3
        },
        {
            "city": "Тюмень",
            "search_count": 3
        },
        {
            "city": "Берлин",
            "search_count": 5
        },
        {
            "city": "Тбилиси",
            "search_count": 1
        },
        {
            "city": "Тбилисская",
            "search_count": 7
        }
    ]

 + site_address_example.ru/api/get_search_counts/Москва - получение информации о запросах города Москвы. Пример ответа:

json

    {
        "city": "Москва",
        "search_count": 3
    }

+ Реализованы тесты для проверки работы сайта реализованы с помощью встроенной библиотек TestCase и Client из django.test в файле tests.py.

+ Реализовано автозаполнения города с помощью ajax запросов.

# Запуск проекта
+ Подход 1: Запуск из исходного кода
  * Скачайте исходный код из репозитория.
  * Установите библиотеки с помощью команды:

cmd

    pip install -r requirements.txt

  * Запустите сервер:

cmd 

    python manage.py runserver

  * Сайт будет доступен по адресу: 127.0.0.1:8000.
+ Подход 2: Запуск с помощью Docker
  * Запустите Docker контейнер с помощью команды:

cmd 

    docker run -d -p 8000:8000 teffer/weather_app

  * Сайт будет доступен по адресу: 127.0.0.1:8000.

### Docker Hub
Изображение проекта опубликовано на Docker Hub и доступно по ссылке: https://hub.docker.com/repository/docker/teffer/weather_app/general (Для доступа из браузера требуется авторизация).